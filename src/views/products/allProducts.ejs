<%-include('../partials/head') %>

<body>
    <%-include('../partials/header') %>

    <main>
        <h1>Todos los productos</h1>

        <% if (products && products.length > 0) { %>
            <% products.forEach(product => { %>
                <div class="product-container">
                    <h4 id="products" class="products-title"><%= product.product_name %></h4>
                    <%- include('../partials/images.ejs', {
                        product_id: product.product_id,
                        product: product,
                        price: product.price
                    }) %>
                </div>
            <% }); %>

            <div id="pagination">
                <% if (totalPages > 1) { %>
                    <% if (currentPage > 1) { %>
                        <a href="?page=<%= currentPage - 1 %>">Anterior</a>
                    <% } %>

                    <% for (let i = 1; i <= totalPages; i++) { %>
                        <a href="?page=<%= i %>" class="<%= currentPage === i ? 'active' : '' %>"><%= i %></a>
                    <% } %>

                    <% if (currentPage < totalPages) { %>
                        <a href="?page=<%= currentPage + 1 %>">Siguiente</a>
                    <% } %>
                <% } %>
            </div>

        <% } else { %>
            <p>No hay productos disponibles.</p>
        <% } %>

    </main>

    <%- include('../partials/footer') %>
</body>
</html>